fork HostWebApp.git
it will include a subtree (MvcLib.git)

clone the fork
run shell init scripts
bash -x init_cfg_subtree.sh

Rename solution to match your appharbor app slug

Configure Connection String DbFileContext in Web.config
Update-database -Verbose: will execute Migrations\Configuration.cs (inherited class from MvcLib Migrations...)

Add a new Asp.NET Web Project with your classes, views, etc.
(WebApplication will not run but It will make intelisense work)

post build action => copy dll's from your project to ~/_plugins.

on local development, it will use your views.

at production, the files will be in database.

changing database, need to sync over with the original repository


structure of your folders:

Root
	
Pre Start
=========
* Leitura da SectionConfiguration MvcLib (web.config)
	a) Em caso de erro, instância default será retornada.
* Cria o arquivo de log inicialização
* Carrega os módulos configurados
	a) TracerHttpModule - Trace de mensagens úteis para debug em cada evento da Pipeline p/ todos os requests
	b) CustomErrorHttpModule - Tratamento de Erros durante o Request. Envia email, renderiza uma página específica, etc.
	c) WhiteSpaceModule - Aplica minificação Html (compressão)
* Inicialização do banco de dados (DbFileSystem)
	a) Depende da configuração do Initializer na seção EntityFramework (web.config).
	b) Cria o banco se necessário
	c) Aplica migrações se necessário
* Inicializa e configura os componentes do Framework:
	a) PluginLoader (Carrega assemblies/plugins)
	b) VirtualPathProviders
	c) Dump (Copia arquivos do banco de dados p/ App_Data e carrega o módulo PathRewriterHttpModule)
	d) Kompiler (Adiciona referências, compila arquivos de acordo com a configuração)
* Configura o Url Routing Module

Application_Start (global.asax)
  => Aplicação configura Configura filtros, rotas, bundles, etc.

Post Start
==========
* Imprime mensagens de Debug
* Adicione o MvcTracerFilter p/ diagnóstico
* Imprime os módulos carregados
* Imprime o RoutTable
* Configura Razor View Engine (adiciona App_Data p/ a busca de views)
* Envia log de inicialização por email.
Fim